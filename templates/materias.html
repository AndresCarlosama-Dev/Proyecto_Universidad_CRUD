{% extends "plantilla.html" %}

{% block head %}
<!-- CSS -->
<link rel="stylesheet" href="{{ url_for('static', filename='materias.css') }}">

{% endblock %}

{% block contenido%}

{% if modelo.error %}
<div class="alert alert-gradient shadow" role="alert">
    <h6>{{ modelo.error}} <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close">&times;</button></h6>
</div>
{% endif %}

{% if modelo.exito %}
<div class="alert alert-gradient-success shadow" role="alert">
    <h6>{{ modelo.exito}} <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close">&times;</button></h6>
</div>
{% endif %}

<div class="container contact-form">
    <div class="contact-image">
        <img src="https://image.ibb.co/kUagtU/rocket_contact.png" alt="rocket_contact" />
    </div>
    <form action="/admin/materia/nueva" method="post">
        <h3>Registro de Materias</h3>
        <h5>Universidad De Nariño</h5>
        <div class="register">
            <div class="form-group">
                <input type="text" name="id" class="form-control" placeholder="Id" />
            </div>
            <div class="form-group">
                <input type="text" name="nombre" class="form-control" placeholder="Nombre de Materia" />
            </div>
            <div class="form-group md-7">
                <select id="inputState" name="creditos" class="form-control">
                    <option selected>N° de creditos</option>
                    <option value="2">2</option>
                    <option value="5">5</option>
                </select>
            </div>

            <div class="form-group">
                <input type="submit" name="btnSubmit" class="btnContact" value="Registrar materia" />
            </div>
        </div>
    </form>
</div>
<!-- TABLA -->
<section class="intro">
    <div class="mask d-flex align-items-center h-100">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-12">
                    <div class="card shadow-2-strong" style="background-color: #f5f7fa;">
                        <div class="card-body">
                            <table class="table table-borderless mb-0">

                                <thead>
                                    <tr>
                                        <th scope="col">ID</th>
                                        <th scope="col">MATERIAS</th>
                                        <th scope="col">N° DE CREDITOS</th>
                                        <th scope="col">OPCIONES</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for materia in modelo.materias %}
                                    <tr>
                                        <td>{{ materia.0 }}</td>
                                        <td>{{ materia.1 }}</td>
                                        <td>{{ materia.2 }}</td>
                                        <td>
                                            <button type="button" class="btn btn-warning btn-sm px-3">
                                                <a href="/admin/materias/editar/{{ materia.0 }}"><i class="far fa-edit"></i></a>
                                            </button>
                                            <button type="button" class="btn btn-danger btn-sm px-3">
                                                <a href="/admin/materias/eliminar/{{ materia.0 }}"><i class="fas fa-times"></i></a>
                                            </button>
                                        </td>
                                    </tr>
                                    {% endfor %}
                                </tbody>

                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>



{% endblock %}